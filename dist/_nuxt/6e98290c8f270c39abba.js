(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{369:function(e,t,r){"use strict";r.r(t);r(41);var n,o=r(11),l=r(83),c={data:function(){return{email:null,sujet:null,message:null,sending:!1,success:!1,error:!1}},components:{ValidationProvider:l.b,ValidationObserver:l.a},mounted:function(){},methods:{submit:(n=Object(o.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.observer.validate();case 2:e.sent||console.error("error form required"),this.sending=!0,this.$axios.post("/api",{email:this.email,subject:this.sujet,message:this.message}).then((function(e){t.sending=!1,console.log(e),e.data.err?t.error=!0:(t.success=!0,t.email="",t.sujet="",t.message="")})).catch((function(e){t.sending=!1,t.error=!0})),requestAnimationFrame((function(){t.$refs.observer.reset()}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}},d=r(30),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-4"},[r("h2",[e._v("Page de contact")]),e._v(" "),r("client-only",{attrs:{placeholder:"Loading..."}},[r("ValidationObserver",{ref:"observer",attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid;return[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[r("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("b-form-group",{attrs:{"label-for":"email-input",label:"Adresse email:",description:"Nous ne partagerons jamais votre email avec qui que ce soit."}},[r("b-form-input",{attrs:{id:"email-input",placeholder:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("span",{staticClass:"text-danger small"},[e._v(e._s(n[0]))])],1)]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{name:"sujet",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("b-form-group",{attrs:{"label-for":"subject-input",label:"Sujet:"}},[r("b-form-input",{attrs:{id:"subject-input",placeholder:"Sujet"},model:{value:e.sujet,callback:function(t){e.sujet=t},expression:"sujet"}}),e._v(" "),r("span",{staticClass:"text-danger small"},[e._v(e._s(n[0]))])],1)]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{name:"message",rules:"required|min:100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("b-form-group",{attrs:{"label-for":"textarea-input",label:"Message:"}},[r("b-form-textarea",{attrs:{id:"textarea-input",placeholder:"Ecrire quelque chose...",rows:"3","max-rows":"6"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),r("span",{staticClass:"text-danger small"},[e._v(e._s(n[0]))])],1)]}}],null,!0)}),e._v(" "),r("b-alert",{attrs:{variant:"success",show:e.success}},[e._v("Votre message a été envoyé avec succès!")]),e._v(" "),r("b-alert",{attrs:{show:e.error,variant:"danger"}},[e._v("Erreur lors de l'envoie du message ")]),e._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",disabled:!n||e.sending}},[e.sending?r("span",[r("b-spinner",{attrs:{small:"",type:"grow"}}),e._v("\n                        En cours...\n                    ")],1):r("span",[e._v("\n                        Envoyer\n                    ")])])],1)]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);